!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var a=function(){};a.prototype.on=function(t,e){this.callbacks||(this.callbacks={}),this.callbacks[t]||(this.callbacks[t]=[]),e.bind(this),this.callbacks[t].push(e)},a.prototype.trigger=function(t){var e=this;this.callbacks&&this.callbacks[t]&&this.callbacks[t].forEach(function(t){t.call(e,e)})},a.prototype.off=function(t,e){if(this.callbacks[t])for(var n=0,a=this.callbacks[t].length;n<a;n+=1)if(this.callbacks[t][n].name===e)return this.callbacks[t].splice(n,1)[0]};var r=a,o=function(t){if(this.title="",this.principal=0,this.rate=0,this.term=0,t)for(var e in t)this[e]=t[e]};for(var i in r.prototype)o.prototype[i]=r.prototype[i];o.prototype.set=function(t,e){this[t]=e,this.trigger("change")},o.prototype.get=function(t){return this[t]},o.prototype.payment=function(){return+(this.principal*this.rate/12/(1-Math.pow(1+this.rate/12,12*-this.term))).toFixed(2)},o.prototype.cost=function(){return+(this.payment()*this.term*12-this.principal).toFixed(2)};var l=o;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var f=function(t){function e(t){var n,a,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(n=!(r=u(e).call(this,t))||"object"!==c(r)&&"function"!=typeof r?h(a):r).handleSubmit=n.handleSubmit.bind(h(h(n))),n.handleReset=n.handleReset.bind(h(h(n))),n.handleChange=n.handleChange.bind(h(h(n))),n.props.loan?n.setState({title:n.props.loan.title,principal:n.props.loan.principal,rate:100*n.props.loan.rate,term:n.props.loan.term,payment:n.props.loan.payment(),cost:n.props.loan.cost(),currentLoan:n.props.loan}):n.state={title:"",principal:"0.00",rate:"0.00",term:"0.00",payment:"0.00",cost:"0.00",currentLoan:!1},n}var n,a,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,React.Component),n=e,(a=[{key:"handleSubmit",value:function(t){t.preventDefault(),console.log("Submitted..."),this.state.currentLoan||(this.state.currentLoan=new l,this.props.submitListener(this.state.currentLoan)),this.state.currentLoan.set("title",this.state.title),this.state.currentLoan.set("principal",+this.state.principal),this.state.currentLoan.set("rate",+this.state.rate/100),this.state.currentLoan.set("term",+this.state.term),this.setState({payment:this.state.currentLoan.payment(),cost:this.state.currentLoan.cost()})}},{key:"handleReset",value:function(t){console.log("Reset..."),this.setState({title:"",principal:"0.00",rate:"0.00",term:"0.00",payment:"0.00",cost:"0.00",currentLoan:!1})}},{key:"handleChange",value:function(t){var e={};e[t.target.getAttribute("name")]=t.target.value,this.setState(e)}},{key:"componentWillReceiveProps",value:function(t){t.loan&&this.setState({title:t.loan.title,principal:t.loan.principal,rate:100*t.loan.rate,term:t.loan.term,payment:t.loan.payment(),cost:t.loan.cost(),currentLoan:t.loan})}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("h3",null,"Loan Entry"),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-control",id:"loan-title",name:"title",placeholder:"title",value:this.state.title,onChange:this.handleChange})),React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},"$"),React.createElement("input",{type:"number",className:"form-control",id:"loan-principal",name:"principal",placeholder:"principal","aria-label":"Amount (to the nearest dollar)",step:"1",value:this.state.principal,onChange:this.handleChange}),React.createElement("span",{className:"input-group-addon"},".00")),React.createElement("div",{className:"input-group"},React.createElement("input",{type:"number",step:".01",className:"form-control",id:"loan-rate",name:"rate",placeholder:"rate","aria-label":"Rate (as a percent)",value:this.state.rate,onChange:this.handleChange}),React.createElement("span",{className:"input-group-addon"},"%")),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"number",className:"form-control",id:"loan-term",name:"term",placeholder:"term",value:this.state.term,onChange:this.handleChange})),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"loan-payment"},"Payment "),React.createElement("span",{className:"loan-payment",id:"loan-payment"}," $",this.state.payment," "),React.createElement("label",{htmlFor:"loan-cost"},"Cost "),React.createElement("span",{className:"loan-cost  ",id:"loan-cost"}," $",this.state.cost," ")),React.createElement("button",{type:"submit",className:"btn btn-default"},"Save"),React.createElement("button",{type:"reset",className:"btn btn-info",onClick:this.handleReset},"Clear")))}}])&&s(n.prototype,a),r&&s(n,r),e}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var v=function(t){function e(t){var n,a,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,(n=!(r=d(e).call(this,t))||"object"!==m(r)&&"function"!=typeof r?g(a):r).handleChange=n.handleChange.bind(g(g(n))),n.handleClick=n.handleClick.bind(g(g(n))),n}var n,a,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,React.Component),n=e,(a=[{key:"handleChange",value:function(){console.log("Changed, now rendering"),this.forceUpdate()}},{key:"handleClick",value:function(t){console.log("Clicked... ".concat(t.target.dataset.idx)),this.props.clickListener(t.target.dataset.idx)}},{key:"componentDidMount",value:function(){this.props.loans.on("change",this.handleChange)}},{key:"render",value:function(){var t=this;return this.props.loans&&0===this.props.loans.length?React.createElement("div",null,React.createElement("h3",null,"Loan List"),React.createElement("div",{className:"list-group"},React.createElement("button",{type:"button",className:"list-group-item"},"No Loans Entered"))):React.createElement("div",null,React.createElement("h3",null,"Loan List"),React.createElement("div",{className:"list-group"},loans.map(function(e,n){return React.createElement("button",{key:n,"data-idx":n,type:"button",className:"list-group-item",onClick:t.handleClick},e.get("title"))})))}}])&&y(n.prototype,a),r&&y(n,r),e}(),R=document.querySelector(".loan-control"),E=document.querySelector(".loan-display"),k=[];for(var S in r.prototype)k[S]=r.prototype[S];k.push=function(t){var e=this;t.set("idx",this.length),t.on("change",function(){e.trigger("change")}),Array.prototype.push.call(this,t),this.trigger("change")};var O=function(t){k.push(t)};ReactDOM.render(React.createElement(v,{loans:k,clickListener:function(t){console.log("Preparing to load loan #".concat(t)),ReactDOM.render(React.createElement(f,{loan:k[t],loans:k,submitListener:O}),R)}}),E),ReactDOM.render(React.createElement(f,{loans:k,submitListener:O}),R),window.loans=k,window.Loan=l}]);